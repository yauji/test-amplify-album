{"remainingRequest":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue?vue&type=template&id=0f499830","dependencies":[{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue","mtime":1623461472155},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js","mtime":1623474110571},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1623474110495},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js","mtime":1623474110495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZyB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgIuOCouODq+ODkOODoOS4gOimpyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8yID0gewogIGJvcmRlcjogIjEiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfMSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIGN1c3RvbTogIiIsCiAgICB0bzogewogICAgICBuYW1lOiAnQWxidW1DcmVhdGUnCiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIG5hdmlnYXRlID0gX3JlZi5uYXZpZ2F0ZTsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICBvbkNsaWNrOiBuYXZpZ2F0ZQogICAgICB9LCAiQWRkIEFsYnVtIiwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsib25DbGljayJdKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKCJ0YWJsZSIsIF9ob2lzdGVkXzIsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuYWxidW1zLCBmdW5jdGlvbiAoYWxidW0sIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInRyIiwgewogICAgICBrZXk6IGFsYnVtLmlkCiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoYWxidW0ubmFtZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgY3VzdG9tOiAiIiwKICAgICAgdG86IHsKICAgICAgICBuYW1lOiAnQWxidW1TaG93JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFsYnVtSWQ6IGFsYnVtLmlkCiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBuYXZpZ2F0ZSA9IF9yZWYyLm5hdmlnYXRlOwogICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICAgICAgICBvbkNsaWNrOiBuYXZpZ2F0ZQogICAgICAgIH0sICJTaG93IEFsYnVtIiwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBbIm9uQ2xpY2siXSldOwogICAgICB9KSwKICAgICAgXzogMgogICAgICAvKiBEWU5BTUlDICovCgogICAgfSwgMTAzMgogICAgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8KICAgICwgWyJ0byJdKV0pLCBfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICAgIGN1c3RvbTogIiIsCiAgICAgIHRvOiB7CiAgICAgICAgbmFtZTogJ0FsYnVtRWRpdCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBhbGJ1bUlkOiBhbGJ1bS5pZAogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICB2YXIgbmF2aWdhdGUgPSBfcmVmMy5uYXZpZ2F0ZTsKICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICAgICAgb25DbGljazogbmF2aWdhdGUKICAgICAgICB9LCAiRWRpdCBBbGJ1bSIsIDgKICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICwgWyJvbkNsaWNrIl0pXTsKICAgICAgfSksCiAgICAgIF86IDIKICAgICAgLyogRFlOQU1JQyAqLwoKICAgIH0sIDEwMzIKICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAsIFsidG8iXSldKSwgX2NyZWF0ZVZOb2RlKCJ0ZCIsIG51bGwsIFtfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMuZGVsZXRlQWxidW0oaW5kZXgsIGFsYnVtLmlkKTsKICAgICAgfQogICAgfSwgIiBEZWxldGUgQWxidW0gIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSk7Cn0="},{"version":3,"sources":["/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue"],"names":[],"mappings":";;;8BAEI,YAAA,CAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,EAAU,CAAA;AAAA;AAAV,C;;;AAKO,EAAA,MAAM,EAAC;;;;;uBANhB,YAAA,CAkCM,KAlCN,EAkCM,IAlCN,EAkCM,CAjCJ,UAiCI,EA/BJ,YAAA,CAEc,sBAFd,EAEc;AAFD,IAAA,MAAM,EAAN,EAEC;AAF6B,IAAA,EAAE,EAAE;AAAA,MAAA,IAAA,EAAA;AAAA;AAEjC,GAFd,E;sBACE;AAAA,UAD4B,QAC5B,QAD4B,QAC5B;AAAA,aADoC,CACpC,YAAA,CAA4C,QAA5C,EAA4C;AAAnC,QAAA,OAAK,EAAE;AAA4B,OAA5C,EAA0B,WAA1B,EAAmC;AAAA;AAAnC,QAAmC,CAAA,SAAA,CAAnC,CADoC,CACpC;AAAA,K;;;;GADF,CA+BI,EA5BJ,YAAA,CA2BQ,OA3BR,EAAA,UAAA,EA2BQ,E,kBA1BN,YAAA,CAyBK,SAzBL,EAyBK,IAzBL,EAyBK,WAAA,CAzBwB,KAAA,CAAA,MAyBxB,EAzB8B,UAAvB,KAAuB,EAAhB,KAAgB,EAAX;yBAAxB,YAAA,CAyBK,IAzBL,EAyBK;AAzBiC,MAAA,GAAG,EAAE,KAAK,CAAC;AAyB5C,KAzBL,E,CACE,YAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAlB,KAAK,CAAC,IAAY,CAAzB,EAAiB;AAAA;AAAjB,K,EACA,YAAA,CAQK,IARL,EAQK,IARL,EAQK,CAPH,YAAA,CAMc,sBANd,EAMc;AALZ,MAAA,MAAM,EAAN,EAKY;AAHX,MAAA,EAAE,EAAA;AAAA,QAAA,IAAA,EAAA,WAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,OAAA,EAA0C,KAAK,CAAC;AAAhD;AAAA;AAGS,KANd,E;wBAKE;AAAA,YAHU,QAGV,SAHU,QAGV;AAAA,eAHkB,CAGlB,YAAA,CAA6C,QAA7C,EAA6C;AAApC,UAAA,OAAK,EAAE;AAA6B,SAA7C,EAA0B,YAA1B,EAAoC;AAAA;AAApC,UAAoC,CAAA,SAAA,CAApC,CAHkB,CAGlB;AAAA,O;;;;KALF,E;;AAAA,M,MAAA,CAOG,CARL,C,EASA,YAAA,CAQK,IARL,EAQK,IARL,EAQK,CAPH,YAAA,CAMc,sBANd,EAMc;AALZ,MAAA,MAAM,EAAN,EAKY;AAHX,MAAA,EAAE,EAAA;AAAA,QAAA,IAAA,EAAA,WAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,OAAA,EAA0C,KAAK,CAAC;AAAhD;AAAA;AAGS,KANd,E;wBAKE;AAAA,YAHU,QAGV,SAHU,QAGV;AAAA,eAHkB,CAGlB,YAAA,CAA6C,QAA7C,EAA6C;AAApC,UAAA,OAAK,EAAE;AAA6B,SAA7C,EAA0B,YAA1B,EAAoC;AAAA;AAApC,UAAoC,CAAA,SAAA,CAApC,CAHkB,CAGlB;AAAA,O;;;;KALF,E;;AAAA,M,MAAA,CAOG,CARL,C,EASA,YAAA,CAIK,IAJL,EAIK,IAJL,EAIK,CAHH,YAAA,CAES,QAFT,EAES;AAFA,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,WAAA,CAAY,KAAZ,EAAmB,KAAK,CAAC,EAAzB,CAAF;AAAA;AAEL,KAFT,EAA8C,gBAA9C,EAEA;AAAA;AAFA,MAEA,CAAA,SAAA,CAFA,CAGG,CAJL,C,CApBF,C;GAyBK,CAzBL,E;;AAAA,GA0BM,EA3BR,CA4BI,CAlCN,C","sourcesContent":["<template>\n  <div>\n    <h1>アルバム一覧</h1>\n    \n    <router-link custom v-slot=\"{ navigate }\" :to=\"{ name: 'AlbumCreate' }\">\n      <button @click=\"navigate\">Add Album</button>\n    </router-link>\n    <table border=\"1\">\n      <tr v-for=\"(album, index) in albums\" :key=\"album.id\">\n        <td>{{ album.name }}</td>\n        <td>\n          <router-link\n            custom\n            v-slot=\"{ navigate }\"\n            :to=\"{ name: 'AlbumShow', params: { albumId: album.id } }\"\n          >\n            <button @click=\"navigate\">Show Album</button>\n          </router-link>\n        </td>\n        <td>\n          <router-link\n            custom\n            v-slot=\"{ navigate }\"\n            :to=\"{ name: 'AlbumEdit', params: { albumId: album.id } }\"\n          >\n            <button @click=\"navigate\">Edit Album</button>\n          </router-link>\n        </td>\n        <td>\n          <button @click=\"deleteAlbum(index, album.id)\">\n            Delete Album\n          </button>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { API } from \"aws-amplify\";\nimport { listAlbums } from \"../../graphql/queries\";\nimport { deleteAlbum } from \"../../graphql/mutations\";\n\nexport default {\n  name: \"AlbumIndex\",\n  async created() {\n    this.getAlbums();\n  },\n  data() {\n    return {\n      albums: [],\n    };\n  },\n  methods: {\n    async getAlbums() {\n      await API.graphql({\n        query: listAlbums,\n      })\n        .then((result) => {\n          console.log(result);\n          this.albums = result.data.listAlbums.items;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    async deleteAlbum(index, albumId) {\n      if (!confirm(\"Delete Album?\")) return;\n\n      await API.graphql({\n        query: deleteAlbum,\n        variables: { input: { id: albumId } },\n      })\n        .then((result) => {\n          console.log(result);\n          this.albums.splice(index, 1);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>"],"sourceRoot":""}]}