{"remainingRequest":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue","mtime":1623461472155},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js","mtime":1623474110571},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js","mtime":1623474110495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3BhcmFsbGVscy9hd3MvdGVzdC1hbXBsaWZ5LWFsYnVtL2FtcGxpZnktdnVlLWFsYnVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBBUEkgfSBmcm9tICJhd3MtYW1wbGlmeSI7CmltcG9ydCB7IGdldEFsYnVtIGFzIF9nZXRBbGJ1bSB9IGZyb20gIi4uLy4uL2dyYXBocWwvcXVlcmllcyI7CmltcG9ydCB7IGRlbGV0ZVBob3RvIGFzIF9kZWxldGVQaG90byB9IGZyb20gIi4uLy4uL2dyYXBocWwvbXV0YXRpb25zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbGJ1bVNob3ciLAogIHByb3BzOiB7CiAgICBhbGJ1bUlkOiBTdHJpbmcKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5nZXRBbGJ1bSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsYnVtOiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBwaG90b3M6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGJ1bTogZnVuY3Rpb24gZ2V0QWxidW0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBUEkuZ3JhcGhxbCh7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBfZ2V0QWxidW0sCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczIuYWxidW1JZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsYnVtID0gcmVzdWx0LmRhdGEuZ2V0QWxidW07CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZVBob3RvOiBmdW5jdGlvbiBkZWxldGVQaG90byhpbmRleCwgcGhvdG8pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oIkRlbGV0ZSBQaG90bz8iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSS5ncmFwaHFsKHsKICAgICAgICAgICAgICAgICAgcXVlcnk6IF9kZWxldGVQaG90bywKICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBwaG90by5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuYWxidW0ucGhvdG9zLml0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue"],"names":[],"mappings":";;;AA0BA,SAAS,GAAT,QAAoB,aAApB;AACA,SAAS,QAAO,IAAP,SAAT,QAAyB,uBAAzB;AACA,SAAS,WAAU,IAAV,YAAT,QAA4B,yBAA5B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AADJ,GAFM;AAKP,EAAA,OALO,qBAKG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,cAAA,KAAI,CAAC,QAAL;;AADc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf,GAPY;AAQb,EAAA,IARa,kBAQN;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AACL,QAAA,IAAI,EAAE,IADD;AAEL,QAAA,MAAM,EAAE;AAFH;AADF,KAAP;AAMD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACD,IAAA,QADC,sBACU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACT,GAAG,CAAC,OAAJ,CAAY;AAChB,kBAAA,KAAK,EAAE,SADS;AAEhB,kBAAA,SAAS,EAAE;AAAE,oBAAA,EAAE,EAAE,MAAI,CAAC;AAAX;AAFK,iBAAZ,EAIH,IAJG,CAIE,UAAC,MAAD,EAAY;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,kBAAA,MAAI,CAAC,KAAL,GAAa,MAAM,CAAC,IAAP,CAAY,QAAzB;AACD,iBAPG,EAQH,KARG,CAQG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAVG,CADS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYhB,KAbM;AAcD,IAAA,WAdC,uBAcW,KAdX,EAckB,KAdlB,EAcyB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACzB,OAAO,CAAC,eAAD,CADkB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,uBAGxB,GAAG,CAAC,OAAJ,CAAY;AAChB,kBAAA,KAAK,EAAE,YADS;AAEhB,kBAAA,SAAS,EAAE;AAAE,oBAAA,KAAK,EAAE;AAAE,sBAAA,EAAE,EAAE,KAAK,CAAC;AAAZ;AAAT;AAFK,iBAAZ,EAIH,IAJG,CAIE,UAAC,MAAD,EAAY;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;;AACA,kBAAA,MAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAwB,MAAxB,CAA+B,KAA/B,EAAsC,CAAtC;AACD,iBAPG,EAQH,KARG,CAQG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAVG,CAHwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc/B;AA5BM;AAhBI,CAAf","sourcesContent":["<template>\n  <div>\n    <h1>アルバム詳細</h1>\n    <h2>{{ album.name }}</h2>\n    <router-link\n      custom\n      v-slot=\"{ navigate }\"\n      :to=\"{ name: 'PhotoCreate', params: { albumId: albumId } }\"\n    >\n      <button @click=\"navigate\">Add Photo</button>\n    </router-link>\n    <table border=\"1\">\n      <tr v-for=\"(photo, index) in album.photos.items\" :key=\"photo.id\">\n        <td>{{ photo.name }}</td>\n        <td>\n          ここに画像表示\n        </td>\n        <td>\n          <button @click=\"deletePhoto(index, photo)\">Delete Photo</button>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { API } from \"aws-amplify\";\nimport { getAlbum } from \"../../graphql/queries\";\nimport { deletePhoto } from \"../../graphql/mutations\";\n\nexport default {\n  name: \"AlbumShow\",\n  props: {\n    albumId: String,\n  },\n  async created() {\n    this.getAlbum();\n  },\n  data() {\n    return {\n      album: {\n        name: null,\n        photos: []\n      },\n    };\n  },\n  methods: {\n    async getAlbum() {\n      await API.graphql({\n        query: getAlbum,\n        variables: { id: this.albumId },\n      })\n        .then((result) => {\n          console.log(result);\n          this.album = result.data.getAlbum;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    async deletePhoto(index, photo) {\n      if (!confirm(\"Delete Photo?\")) return;\n\n      await API.graphql({\n        query: deletePhoto,\n        variables: { input: { id: photo.id } },\n      })\n        .then((result) => {\n          console.log(result);\n          this.album.photos.items.splice(index, 1);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>"],"sourceRoot":""}]}