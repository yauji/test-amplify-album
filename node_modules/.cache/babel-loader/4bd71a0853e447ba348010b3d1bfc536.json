{"remainingRequest":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue?vue&type=template&id=46f0e452","dependencies":[{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue","mtime":1623461472155},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js","mtime":1623474110571},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1623474110495},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js","mtime":1623474110495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgIuOCouODq+ODkOODoOips+e0sCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8yID0gewogIGJvcmRlcjogIjEiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgIiDjgZPjgZPjgavnlLvlg4/ooajnpLogIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIG51bGwsIFtfaG9pc3RlZF8xLCBfY3JlYXRlVk5vZGUoImgyIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkZGF0YS5hbGJ1bS5uYW1lKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgY3VzdG9tOiAiIiwKICAgIHRvOiB7CiAgICAgIG5hbWU6ICdQaG90b0NyZWF0ZScsCiAgICAgIHBhcmFtczogewogICAgICAgIGFsYnVtSWQ6ICRwcm9wcy5hbGJ1bUlkCiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgbmF2aWdhdGUgPSBfcmVmLm5hdmlnYXRlOwogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIG9uQ2xpY2s6IG5hdmlnYXRlCiAgICAgIH0sICJBZGQgUGhvdG8iLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0byJdKSwgX2NyZWF0ZVZOb2RlKCJ0YWJsZSIsIF9ob2lzdGVkXzIsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuYWxidW0ucGhvdG9zLml0ZW1zLCBmdW5jdGlvbiAocGhvdG8sIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInRyIiwgewogICAgICBrZXk6IHBob3RvLmlkCiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcocGhvdG8ubmFtZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9ob2lzdGVkXzMsIF9jcmVhdGVWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZVBob3RvKGluZGV4LCBwaG90byk7CiAgICAgIH0KICAgIH0sICJEZWxldGUgUGhvdG8iLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uQ2xpY2siXSldKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKTsKfQ=="},{"version":3,"sources":["/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Show.vue"],"names":[],"mappings":";;;8BAEI,YAAA,CAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,EAAU,CAAA;AAAA;AAAV,C;;;AASO,EAAA,MAAM,EAAC;;;8BAGV,YAAA,CAEK,IAFL,EAEK,IAFL,EAAI,WAAJ,EAEA,CAAA;AAAA;AAFA,C;;;;;uBAbN,YAAA,CAqBM,KArBN,EAqBM,IArBN,EAqBM,CApBJ,UAoBI,EAnBJ,YAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAlB,KAAA,CAAA,KAAA,CAAM,IAAY,CAAzB,EAAiB;AAAA;AAAjB,GAmBI,EAlBJ,YAAA,CAMc,sBANd,EAMc;AALZ,IAAA,MAAM,EAAN,EAKY;AAHX,IAAA,EAAE,EAAA;AAAA,MAAA,IAAA,EAAA,aAAA;AAAA,MAAA,MAAA,EAAA;AAAA,QAAA,OAAA,EAA4C,MAAA,CAAA;AAA5C;AAAA;AAGS,GANd,E;sBAKE;AAAA,UAHU,QAGV,QAHU,QAGV;AAAA,aAHkB,CAGlB,YAAA,CAA4C,QAA5C,EAA4C;AAAnC,QAAA,OAAK,EAAE;AAA4B,OAA5C,EAA0B,WAA1B,EAAmC;AAAA;AAAnC,QAAmC,CAAA,SAAA,CAAnC,CAHkB,CAGlB;AAAA,K;;;;GALF,E;;AAAA,I,MAAA,CAkBI,EAXJ,YAAA,CAUQ,OAVR,EAAA,UAAA,EAUQ,E,kBATN,YAAA,CAQK,SARL,EAQK,IARL,EAQK,WAAA,CARwB,KAAA,CAAA,KAAA,CAAM,MAAN,CAAa,KAQrC,EAR0C,UAAnC,KAAmC,EAA5B,KAA4B,EAAvB;yBAAxB,YAAA,CAQK,IARL,EAQK;AAR6C,MAAA,GAAG,EAAE,KAAK,CAAC;AAQxD,KARL,E,CACE,YAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAlB,KAAK,CAAC,IAAY,CAAzB,EAAiB;AAAA;AAAjB,K,EACA,U,EAGA,YAAA,CAEK,IAFL,EAEK,IAFL,EAEK,CADH,YAAA,CAAgE,QAAhE,EAAgE;AAAvD,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,WAAA,CAAY,KAAZ,EAAmB,KAAnB,CAAF;AAAA;AAAkD,KAAhE,EAA2C,cAA3C,EAAuD;AAAA;AAAvD,MAAuD,CAAA,SAAA,CAAvD,CACG,CAFL,C,CALF,C;GAQK,CARL,E;;AAAA,GASM,EAVR,CAWI,CArBN,C","sourcesContent":["<template>\n  <div>\n    <h1>アルバム詳細</h1>\n    <h2>{{ album.name }}</h2>\n    <router-link\n      custom\n      v-slot=\"{ navigate }\"\n      :to=\"{ name: 'PhotoCreate', params: { albumId: albumId } }\"\n    >\n      <button @click=\"navigate\">Add Photo</button>\n    </router-link>\n    <table border=\"1\">\n      <tr v-for=\"(photo, index) in album.photos.items\" :key=\"photo.id\">\n        <td>{{ photo.name }}</td>\n        <td>\n          ここに画像表示\n        </td>\n        <td>\n          <button @click=\"deletePhoto(index, photo)\">Delete Photo</button>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { API } from \"aws-amplify\";\nimport { getAlbum } from \"../../graphql/queries\";\nimport { deletePhoto } from \"../../graphql/mutations\";\n\nexport default {\n  name: \"AlbumShow\",\n  props: {\n    albumId: String,\n  },\n  async created() {\n    this.getAlbum();\n  },\n  data() {\n    return {\n      album: {\n        name: null,\n        photos: []\n      },\n    };\n  },\n  methods: {\n    async getAlbum() {\n      await API.graphql({\n        query: getAlbum,\n        variables: { id: this.albumId },\n      })\n        .then((result) => {\n          console.log(result);\n          this.album = result.data.getAlbum;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    async deletePhoto(index, photo) {\n      if (!confirm(\"Delete Photo?\")) return;\n\n      await API.graphql({\n        query: deletePhoto,\n        variables: { input: { id: photo.id } },\n      })\n        .then((result) => {\n          console.log(result);\n          this.album.photos.items.splice(index, 1);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>"],"sourceRoot":""}]}