import{r as t,h as e,H as s}from"./p-33b9aa6b.js";import{Logger as i,I18n as r}from"@aws-amplify/core";import{A as a}from"./p-f199eef0.js";import"@aws-amplify/auth";import{T as p}from"./p-26837fd8.js";import"./p-608e5d76.js";import"@aws-amplify/storage";import{c as o,p as h}from"./p-37def8f9.js";const l=new i("S3TextPicker"),c=class{constructor(e){t(this,e),this.contentType="text/*",this.level=a.Public,this.fallbackText=p.PICKER_TEXT}async handleInput(t){const e=t.target.files[0],{path:s="",level:i,fileToKey:r,track:a}=this,p=s+o(e,r);if(!e)throw new Error("No file was selected");try{await h(p,e,i,a,e.type,l),this.src=p}catch(c){throw l.debug(c),new Error(c)}}render(){return e(s,null,e("amplify-s3-text",{textKey:this.src,path:this.path,level:this.level,track:this.track,identityId:this.identityId,contentType:this.contentType,fallbackText:r.get(this.fallbackText)}),e("amplify-picker",{inputHandler:t=>this.handleInput(t),acceptValue:"text/*"}))}};export{c as amplify_s3_text_picker}