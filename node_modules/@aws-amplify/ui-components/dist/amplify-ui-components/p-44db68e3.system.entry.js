var __awaiter=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{s(n.next(t))}catch(e){o(e)}}function u(t){try{s(n["throw"](t))}catch(e){o(e)}}function s(t){t.done?r(t.value):i(t.value).then(a,u)}s((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return s([t,e])}}function s(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=e.call(t,r)}catch(u){a=[6,u];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-38e49dbf.system.js","@aws-amplify/core","./p-74bf56f1.system.js","@aws-amplify/auth","./p-239ad290.system.js","./p-47953b03.system.js","./p-06064487.system.js","./p-fd18fda8.system.js","buffer"],(function(t){"use strict";var e,r,n,i,o,a,u,s,f,l,h,c,d,v,g,p,y;return{setters:[function(t){e=t.r;r=t.h;n=t.H},function(t){i=t.Logger;o=t.I18n},function(t){a=t.M;u=t.A},function(t){s=t.Auth},function(t){f=t.T},function(t){l=t.S;h=t.i;c=t.N},function(t){d=t.d;v=t.o;g=t.a},function(t){p=t.c},function(t){y=t.default}],execute:function(){var m=":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}";var w=t("amplify_radio_button",function(){function t(t){e(this,t);this.placeholder="";this.checked=false;this.disabled=false}t.prototype.render=function(){return r("span",{class:"radio-button"},r("input",Object.assign({type:"radio",name:this.name,value:this.value,onInput:this.handleInputChange,placeholder:this.placeholder,id:this.fieldId,checked:this.checked,disabled:this.disabled},this.inputProps)),r("amplify-label",{htmlFor:this.fieldId},this.label))};return t}());w.style=m;var b=':host{--background-color:var(--amplify-secondary-tint);--color:var(--amplify-white);--font-size:var(--amplify-text-sm);--font-family:var(--amplify-font-family);--close-icon-color:var(--amplify-white);--close-icon-hover:var(--amplify-red)}.toast-icon{padding-right:5px}.toast{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:absolute;top:0;left:0;width:100%;z-index:99;-webkit-box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);padding:16px;background-color:var(--background-color);font-size:var(--font-size);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:5px;font-family:var(--font-family)}.toast>span{margin-right:10px}.toast-close{margin-left:auto;-ms-flex-item-align:center;align-self:center;position:relative;width:18px;height:18px;overflow:hidden;cursor:pointer;background:transparent;border:none}.toast-close::before,.toast-close::after{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:var(--close-icon-color)}.toast-close:hover::before,.toast-close:hover::after{background:var(--close-icon-hover)}.toast-close::before{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.toast-close::after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}';var E=t("amplify_toast",function(){function t(t){e(this,t);this.message=""}t.prototype.render=function(){return r("div",{class:"toast"},r("amplify-icon",{class:"toast-icon",name:"warning"}),this.message?r("span",null,this.message):null,r("slot",null),r("button",{class:"toast-close",onClick:this.handleClose}))};return t}());E.style=b;var T=function(){return typeof Promise==="function"&&Promise.prototype&&Promise.prototype.then};var A={}.toString;var P=Array.isArray||function(t){return A.call(t)=="[object Array]"};function _(){try{var t=new Uint8Array(1);t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return t.foo()===42}catch(e){return false}}B.TYPED_ARRAY_SUPPORT=_();var C=B.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function B(t,e,r){if(!B.TYPED_ARRAY_SUPPORT&&!(this instanceof B)){return new B(t,e,r)}if(typeof t==="number"){return N(this,t)}return F(this,t,e,r)}if(B.TYPED_ARRAY_SUPPORT){B.prototype.__proto__=Uint8Array.prototype;B.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&B[Symbol.species]===B){Object.defineProperty(B,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}}function R(t){if(t>=C){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+C.toString(16)+" bytes")}return t|0}function I(t){return t!==t}function M(t,e){var r;if(B.TYPED_ARRAY_SUPPORT){r=new Uint8Array(e);r.__proto__=B.prototype}else{r=t;if(r===null){r=new B(e)}r.length=e}return r}function N(t,e){var r=M(t,e<0?0:R(e)|0);if(!B.TYPED_ARRAY_SUPPORT){for(var n=0;n<e;++n){r[n]=0}}return r}function S(t,e){var r=O(e)|0;var n=M(t,r);var i=n.write(e);if(i!==r){n=n.slice(0,i)}return n}function x(t,e){var r=e.length<0?0:R(e.length)|0;var n=M(t,r);for(var i=0;i<r;i+=1){n[i]=e[i]&255}return n}function L(t,e,r,n){if(r<0||e.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(e.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}var i;if(r===undefined&&n===undefined){i=new Uint8Array(e)}else if(n===undefined){i=new Uint8Array(e,r)}else{i=new Uint8Array(e,r,n)}if(B.TYPED_ARRAY_SUPPORT){i.__proto__=B.prototype}else{i=x(t,i)}return i}function U(t,e){if(B.isBuffer(e)){var r=R(e.length)|0;var n=M(t,r);if(n.length===0){return n}e.copy(n,0,0,r);return n}if(e){if(typeof ArrayBuffer!=="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e){if(typeof e.length!=="number"||I(e.length)){return M(t,0)}return x(t,e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return x(t,e.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function k(t,e){e=e||Infinity;var r;var n=t.length;var i=null;var o=[];for(var a=0;a<n;++a){r=t.charCodeAt(a);if(r>55295&&r<57344){if(!i){if(r>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(a+1===n){if((e-=3)>-1)o.push(239,191,189);continue}i=r;continue}if(r<56320){if((e-=3)>-1)o.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((e-=3)>-1)o.push(239,191,189)}i=null;if(r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return o}function O(t){if(B.isBuffer(t)){return t.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){return t.byteLength}if(typeof t!=="string"){t=""+t}var e=t.length;if(e===0)return 0;return k(t).length}function Y(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function D(t,e,r,n){return Y(k(e,t.length-r),t,r,n)}function F(t,e,r,n){if(typeof e==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer){return L(t,e,r,n)}if(typeof e==="string"){return S(t,e)}return U(t,e)}B.prototype.write=function t(e,r,n){if(r===undefined){n=this.length;r=0}else if(n===undefined&&typeof r==="string"){n=this.length;r=0}else if(isFinite(r)){r=r|0;if(isFinite(n)){n=n|0}else{n=undefined}}var i=this.length-r;if(n===undefined||n>i)n=i;if(e.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}return D(this,e,r,n)};B.prototype.slice=function t(e,r){var n=this.length;e=~~e;r=r===undefined?n:~~r;if(e<0){e+=n;if(e<0)e=0}else if(e>n){e=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<e)r=e;var i;if(B.TYPED_ARRAY_SUPPORT){i=this.subarray(e,r);i.__proto__=B.prototype}else{var o=r-e;i=new B(o,undefined);for(var a=0;a<o;++a){i[a]=this[a+e]}}return i};B.prototype.copy=function t(e,r,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=e.length)r=e.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(e.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-r<i-n){i=e.length-r+n}var o=i-n;var a;if(this===e&&n<r&&r<i){for(a=o-1;a>=0;--a){e[a+r]=this[a+n]}}else if(o<1e3||!B.TYPED_ARRAY_SUPPORT){for(a=0;a<o;++a){e[a+r]=this[a+n]}}else{Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r)}return o};B.prototype.fill=function t(e,r,n){if(typeof e==="string"){if(typeof r==="string"){r=0;n=this.length}else if(typeof n==="string"){n=this.length}if(e.length===1){var i=e.charCodeAt(0);if(i<256){e=i}}}else if(typeof e==="number"){e=e&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!e)e=0;var o;if(typeof e==="number"){for(o=r;o<n;++o){this[o]=e}}else{var a=B.isBuffer(e)?e:new B(e);var u=a.length;for(o=0;o<n-r;++o){this[o+r]=a[o%u]}}return this};B.concat=function t(e,r){if(!P(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return M(null,0)}var n;if(r===undefined){r=0;for(n=0;n<e.length;++n){r+=e[n].length}}var i=N(null,r);var o=0;for(n=0;n<e.length;++n){var a=e[n];if(!B.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(i,o);o+=a.length}return i};B.byteLength=O;B.prototype._isBuffer=true;B.isBuffer=function t(e){return!!(e!=null&&e._isBuffer)};var z=function(t){var e=new B(t);e.fill(0);return e};var H=function(t){return new B(t)};var j={alloc:z,from:H};var J;var K=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var q=function t(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};var V=function t(e){return K[e]};var Q=function(t){var e=0;while(t!==0){e++;t>>>=1}return e};var $=function t(e){if(typeof e!=="function"){throw new Error('"toSJISFunc" is not a valid function.')}J=e};var X=function(){return typeof J!=="undefined"};var Z=function t(e){return J(e)};var G={getSymbolSize:q,getSymbolTotalCodewords:V,getBCHDigit:Q,setToSJISFunction:$,isKanjiModeEnabled:X,toSJIS:Z};function W(t,e,r){return r={path:e,exports:{},require:function(t,e){return tt()}},t(r,r.exports),r.exports}function tt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var et=W((function(t,e){e.L={bit:1};e.M={bit:0};e.Q={bit:3};e.H={bit:2};function r(t){if(typeof t!=="string"){throw new Error("Param is not a string")}var r=t.toLowerCase();switch(r){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.isValid=function t(e){return e&&typeof e.bit!=="undefined"&&e.bit>=0&&e.bit<4};e.from=function t(n,i){if(e.isValid(n)){return n}try{return r(n)}catch(o){return i}}}));function rt(){this.buffer=[];this.length=0}rt.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++){this.putBit((t>>>e-r-1&1)===1)}},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);if(this.buffer.length<=e){this.buffer.push(0)}if(t){this.buffer[e]|=128>>>this.length%8}this.length++}};var nt=rt;function it(t){if(!t||t<1){throw new Error("BitMatrix size must be defined and greater than 0")}this.size=t;this.data=j.alloc(t*t);this.reservedBit=j.alloc(t*t)}it.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r;if(n)this.reservedBit[i]=true};it.prototype.get=function(t,e){return this.data[t*this.size+e]};it.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};it.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ot=it;var at=W((function(t,e){var r=G.getSymbolSize;e.getRowColCoords=function t(e){if(e===1)return[];var n=Math.floor(e/7)+2;var i=r(e);var o=i===145?26:Math.ceil((i-13)/(2*n-2))*2;var a=[i-7];for(var u=1;u<n-1;u++){a[u]=a[u-1]-o}a.push(6);return a.reverse()};e.getPositions=function t(r){var n=[];var i=e.getRowColCoords(r);var o=i.length;for(var a=0;a<o;a++){for(var u=0;u<o;u++){if(a===0&&u===0||a===0&&u===o-1||a===o-1&&u===0){continue}n.push([i[a],i[u]])}}return n}}));var ut=G.getSymbolSize;var st=7;var ft=function t(e){var r=ut(e);return[[0,0],[r-st,0],[0,r-st]]};var lt={getPositions:ft};var ht=W((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r={N1:3,N2:3,N3:40,N4:10};e.isValid=function t(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};e.from=function t(r){return e.isValid(r)?parseInt(r,10):undefined};e.getPenaltyN1=function t(e){var n=e.size;var i=0;var o=0;var a=0;var u=null;var s=null;for(var f=0;f<n;f++){o=a=0;u=s=null;for(var l=0;l<n;l++){var h=e.get(f,l);if(h===u){o++}else{if(o>=5)i+=r.N1+(o-5);u=h;o=1}h=e.get(l,f);if(h===s){a++}else{if(a>=5)i+=r.N1+(a-5);s=h;a=1}}if(o>=5)i+=r.N1+(o-5);if(a>=5)i+=r.N1+(a-5)}return i};e.getPenaltyN2=function t(e){var n=e.size;var i=0;for(var o=0;o<n-1;o++){for(var a=0;a<n-1;a++){var u=e.get(o,a)+e.get(o,a+1)+e.get(o+1,a)+e.get(o+1,a+1);if(u===4||u===0)i++}}return i*r.N2};e.getPenaltyN3=function t(e){var n=e.size;var i=0;var o=0;var a=0;for(var u=0;u<n;u++){o=a=0;for(var s=0;s<n;s++){o=o<<1&2047|e.get(u,s);if(s>=10&&(o===1488||o===93))i++;a=a<<1&2047|e.get(s,u);if(s>=10&&(a===1488||a===93))i++}}return i*r.N3};e.getPenaltyN4=function t(e){var n=0;var i=e.data.length;for(var o=0;o<i;o++)n+=e.data[o];var a=Math.abs(Math.ceil(n*100/i/5)-10);return a*r.N4};function n(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(r+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return r*n%2+r*n%3===0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2===0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.applyMask=function t(e,r){var i=r.size;for(var o=0;o<i;o++){for(var a=0;a<i;a++){if(r.isReserved(a,o))continue;r.xor(a,o,n(e,a,o))}}};e.getBestMask=function t(r,n){var i=Object.keys(e.Patterns).length;var o=0;var a=Infinity;for(var u=0;u<i;u++){n(u);e.applyMask(u,r);var s=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(u,r);if(s<a){a=s;o=u}}return o}}));var ct=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81];var dt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];var vt=function t(e,r){switch(r){case et.L:return ct[(e-1)*4+0];case et.M:return ct[(e-1)*4+1];case et.Q:return ct[(e-1)*4+2];case et.H:return ct[(e-1)*4+3];default:return undefined}};var gt=function t(e,r){switch(r){case et.L:return dt[(e-1)*4+0];case et.M:return dt[(e-1)*4+1];case et.Q:return dt[(e-1)*4+2];case et.H:return dt[(e-1)*4+3];default:return undefined}};var pt={getBlocksCount:vt,getTotalCodewordsCount:gt};var yt=j.alloc(512);var mt=j.alloc(256);(function t(){var e=1;for(var r=0;r<255;r++){yt[r]=e;mt[e]=r;e<<=1;if(e&256){e^=285}}for(r=255;r<512;r++){yt[r]=yt[r-255]}})();var wt=function t(e){if(e<1)throw new Error("log("+e+")");return mt[e]};var bt=function t(e){return yt[e]};var Et=function t(e,r){if(e===0||r===0)return 0;return yt[mt[e]+mt[r]]};var Tt={log:wt,exp:bt,mul:Et};var At=W((function(t,e){e.mul=function t(e,r){var n=j.alloc(e.length+r.length-1);for(var i=0;i<e.length;i++){for(var o=0;o<r.length;o++){n[i+o]^=Tt.mul(e[i],r[o])}}return n};e.mod=function t(e,r){var n=j.from(e);while(n.length-r.length>=0){var i=n[0];for(var o=0;o<r.length;o++){n[o]^=Tt.mul(r[o],i)}var a=0;while(a<n.length&&n[a]===0)a++;n=n.slice(a)}return n};e.generateECPolynomial=function t(r){var n=j.from([1]);for(var i=0;i<r;i++){n=e.mul(n,[1,Tt.exp(i)])}return n}}));var Pt=y.Buffer;function _t(t){this.genPoly=undefined;this.degree=t;if(this.degree)this.initialize(this.degree)}_t.prototype.initialize=function t(e){this.degree=e;this.genPoly=At.generateECPolynomial(this.degree)};_t.prototype.encode=function t(e){if(!this.genPoly){throw new Error("Encoder not initialized")}var r=j.alloc(this.degree);var n=Pt.concat([e,r],e.length+this.degree);var i=At.mod(n,this.genPoly);var o=this.degree-i.length;if(o>0){var a=j.alloc(this.degree);i.copy(a,o);return a}return i};var Ct=_t;var Bt=function t(e){return!isNaN(e)&&e>=1&&e<=40};var Rt={isValid:Bt};var It="[0-9]+";var Mt="[A-Z $%*+\\-./:]+";var Nt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|"+"[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|"+"[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|"+"[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Nt=Nt.replace(/u/g,"\\u");var St="(?:(?![A-Z0-9 $%*+\\-./:]|"+Nt+")(?:.|[\r\n]))+";var xt=new RegExp(Nt,"g");var Lt=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");var Ut=new RegExp(St,"g");var kt=new RegExp(It,"g");var Ot=new RegExp(Mt,"g");var Yt=new RegExp("^"+Nt+"$");var Dt=new RegExp("^"+It+"$");var Ft=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");var zt=function t(e){return Yt.test(e)};var Ht=function t(e){return Dt.test(e)};var jt=function t(e){return Ft.test(e)};var Jt={KANJI:xt,BYTE_KANJI:Lt,BYTE:Ut,NUMERIC:kt,ALPHANUMERIC:Ot,testKanji:zt,testNumeric:Ht,testAlphanumeric:jt};var Kt=W((function(t,e){e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};e.MIXED={bit:-1};e.getCharCountIndicator=function t(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Rt.isValid(r)){throw new Error("Invalid version: "+r)}if(r>=1&&r<10)return e.ccBits[0];else if(r<27)return e.ccBits[1];return e.ccBits[2]};e.getBestModeForData=function t(r){if(Jt.testNumeric(r))return e.NUMERIC;else if(Jt.testAlphanumeric(r))return e.ALPHANUMERIC;else if(Jt.testKanji(r))return e.KANJI;else return e.BYTE};e.toString=function t(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};e.isValid=function t(e){return e&&e.bit&&e.ccBits};function r(t){if(typeof t!=="string"){throw new Error("Param is not a string")}var r=t.toLowerCase();switch(r){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.from=function t(n,i){if(e.isValid(n)){return n}try{return r(n)}catch(o){return i}}}));var qt=W((function(t,e){var r=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;var n=G.getBCHDigit(r);function i(t,r,n){for(var i=1;i<=40;i++){if(r<=e.getCapacity(i,n,t)){return i}}return undefined}function o(t,e){return Kt.getCharCountIndicator(t,e)+4}function a(t,e){var r=0;t.forEach((function(t){var n=o(t.mode,e);r+=n+t.getBitsLength()}));return r}function u(t,r){for(var n=1;n<=40;n++){var i=a(t,n);if(i<=e.getCapacity(n,r,Kt.MIXED)){return n}}return undefined}e.from=function t(e,r){if(Rt.isValid(e)){return parseInt(e,10)}return r};e.getCapacity=function t(e,r,n){if(!Rt.isValid(e)){throw new Error("Invalid QR Code version")}if(typeof n==="undefined")n=Kt.BYTE;var i=G.getSymbolTotalCodewords(e);var a=pt.getTotalCodewordsCount(e,r);var u=(i-a)*8;if(n===Kt.MIXED)return u;var s=u-o(n,e);switch(n){case Kt.NUMERIC:return Math.floor(s/10*3);case Kt.ALPHANUMERIC:return Math.floor(s/11*2);case Kt.KANJI:return Math.floor(s/13);case Kt.BYTE:default:return Math.floor(s/8)}};e.getBestVersionForData=function t(e,r){var n;var o=et.from(r,et.M);if(P(e)){if(e.length>1){return u(e,o)}if(e.length===0){return 1}n=e[0]}else{n=e}return i(n.mode,n.getLength(),o)};e.getEncodedBits=function t(e){if(!Rt.isValid(e)||e<7){throw new Error("Invalid QR Code version")}var i=e<<12;while(G.getBCHDigit(i)-n>=0){i^=r<<G.getBCHDigit(i)-n}return e<<12|i}}));var Vt=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;var Qt=1<<14|1<<12|1<<10|1<<4|1<<1;var $t=G.getBCHDigit(Vt);var Xt=function t(e,r){var n=e.bit<<3|r;var i=n<<10;while(G.getBCHDigit(i)-$t>=0){i^=Vt<<G.getBCHDigit(i)-$t}return(n<<10|i)^Qt};var Zt={getEncodedBits:Xt};function Gt(t){this.mode=Kt.NUMERIC;this.data=t.toString()}Gt.getBitsLength=function t(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Gt.prototype.getLength=function t(){return this.data.length};Gt.prototype.getBitsLength=function t(){return Gt.getBitsLength(this.data.length)};Gt.prototype.write=function t(e){var r,n,i;for(r=0;r+3<=this.data.length;r+=3){n=this.data.substr(r,3);i=parseInt(n,10);e.put(i,10)}var o=this.data.length-r;if(o>0){n=this.data.substr(r);i=parseInt(n,10);e.put(i,o*3+1)}};var Wt=Gt;var te=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ee(t){this.mode=Kt.ALPHANUMERIC;this.data=t}ee.getBitsLength=function t(e){return 11*Math.floor(e/2)+6*(e%2)};ee.prototype.getLength=function t(){return this.data.length};ee.prototype.getBitsLength=function t(){return ee.getBitsLength(this.data.length)};ee.prototype.write=function t(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=te.indexOf(this.data[r])*45;n+=te.indexOf(this.data[r+1]);e.put(n,11)}if(this.data.length%2){e.put(te.indexOf(this.data[r]),6)}};var re=ee;function ne(t){this.mode=Kt.BYTE;this.data=j.from(t)}ne.getBitsLength=function t(e){return e*8};ne.prototype.getLength=function t(){return this.data.length};ne.prototype.getBitsLength=function t(){return ne.getBitsLength(this.data.length)};ne.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++){t.put(this.data[e],8)}};var ie=ne;function oe(t){this.mode=Kt.KANJI;this.data=t}oe.getBitsLength=function t(e){return e*13};oe.prototype.getLength=function t(){return this.data.length};oe.prototype.getBitsLength=function t(){return oe.getBitsLength(this.data.length)};oe.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=G.toSJIS(this.data[e]);if(r>=33088&&r<=40956){r-=33088}else if(r>=57408&&r<=60351){r-=49472}else{throw new Error("Invalid SJIS character: "+this.data[e]+"\n"+"Make sure your charset is UTF-8")}r=(r>>>8&255)*192+(r&255);t.put(r,13)}};var ae=oe;var ue=W((function(t){var e={single_source_shortest_paths:function(t,r,n){var i={};var o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);var u,s,f,l,h,c,d,v,g;while(!a.empty()){u=a.pop();s=u.value;l=u.cost;h=t[s]||{};for(f in h){if(h.hasOwnProperty(f)){c=h[f];d=l+c;v=o[f];g=typeof o[f]==="undefined";if(g||v>d){o[f]=d;a.push(f,d);i[f]=s}}}}if(typeof n!=="undefined"&&typeof o[n]==="undefined"){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){var r=[];var n=e;while(n){r.push(n);n=t[n]}r.reverse();return r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,n={},i;t=t||{};for(i in r){if(r.hasOwnProperty(i)){n[i]=r[i]}}n.queue=[];n.sorter=t.sorter||r.default_sorter;return n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r);this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};{t.exports=e}}));var se=W((function(t,e){function r(t){return unescape(encodeURIComponent(t)).length}function n(t,e,r){var n=[];var i;while((i=t.exec(r))!==null){n.push({data:i[0],index:i.index,mode:e,length:i[0].length})}return n}function i(t){var e=n(Jt.NUMERIC,Kt.NUMERIC,t);var r=n(Jt.ALPHANUMERIC,Kt.ALPHANUMERIC,t);var i;var o;if(G.isKanjiModeEnabled()){i=n(Jt.BYTE,Kt.BYTE,t);o=n(Jt.KANJI,Kt.KANJI,t)}else{i=n(Jt.BYTE_KANJI,Kt.BYTE,t);o=[]}var a=e.concat(r,i,o);return a.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function o(t,e){switch(e){case Kt.NUMERIC:return Wt.getBitsLength(t);case Kt.ALPHANUMERIC:return re.getBitsLength(t);case Kt.KANJI:return ae.getBitsLength(t);case Kt.BYTE:return ie.getBitsLength(t)}}function a(t){return t.reduce((function(t,e){var r=t.length-1>=0?t[t.length-1]:null;if(r&&r.mode===e.mode){t[t.length-1].data+=e.data;return t}t.push(e);return t}),[])}function u(t){var e=[];for(var n=0;n<t.length;n++){var i=t[n];switch(i.mode){case Kt.NUMERIC:e.push([i,{data:i.data,mode:Kt.ALPHANUMERIC,length:i.length},{data:i.data,mode:Kt.BYTE,length:i.length}]);break;case Kt.ALPHANUMERIC:e.push([i,{data:i.data,mode:Kt.BYTE,length:i.length}]);break;case Kt.KANJI:e.push([i,{data:i.data,mode:Kt.BYTE,length:r(i.data)}]);break;case Kt.BYTE:e.push([{data:i.data,mode:Kt.BYTE,length:r(i.data)}])}}return e}function s(t,e){var r={};var n={start:{}};var i=["start"];for(var a=0;a<t.length;a++){var u=t[a];var s=[];for(var f=0;f<u.length;f++){var l=u[f];var h=""+a+f;s.push(h);r[h]={node:l,lastCount:0};n[h]={};for(var c=0;c<i.length;c++){var d=i[c];if(r[d]&&r[d].node.mode===l.mode){n[d][h]=o(r[d].lastCount+l.length,l.mode)-o(r[d].lastCount,l.mode);r[d].lastCount+=l.length}else{if(r[d])r[d].lastCount=l.length;n[d][h]=o(l.length,l.mode)+4+Kt.getCharCountIndicator(l.mode,e)}}}i=s}for(c=0;c<i.length;c++){n[i[c]]["end"]=0}return{map:n,table:r}}function f(t,e){var r;var n=Kt.getBestModeForData(t);r=Kt.from(e,n);if(r!==Kt.BYTE&&r.bit<n.bit){throw new Error('"'+t+'"'+" cannot be encoded with mode "+Kt.toString(r)+".\n Suggested mode is: "+Kt.toString(n))}if(r===Kt.KANJI&&!G.isKanjiModeEnabled()){r=Kt.BYTE}switch(r){case Kt.NUMERIC:return new Wt(t);case Kt.ALPHANUMERIC:return new re(t);case Kt.KANJI:return new ae(t);case Kt.BYTE:return new ie(t)}}e.fromArray=function t(e){return e.reduce((function(t,e){if(typeof e==="string"){t.push(f(e,null))}else if(e.data){t.push(f(e.data,e.mode))}return t}),[])};e.fromString=function t(r,n){var o=i(r,G.isKanjiModeEnabled());var f=u(o);var l=s(f,n);var h=ue.find_path(l.map,"start","end");var c=[];for(var d=1;d<h.length-1;d++){c.push(l.table[h[d]].node)}return e.fromArray(a(c))};e.rawSplit=function t(r){return e.fromArray(i(r,G.isKanjiModeEnabled()))}}));function fe(t,e){var r=t.size;var n=lt.getPositions(e);for(var i=0;i<n.length;i++){var o=n[i][0];var a=n[i][1];for(var u=-1;u<=7;u++){if(o+u<=-1||r<=o+u)continue;for(var s=-1;s<=7;s++){if(a+s<=-1||r<=a+s)continue;if(u>=0&&u<=6&&(s===0||s===6)||s>=0&&s<=6&&(u===0||u===6)||u>=2&&u<=4&&s>=2&&s<=4){t.set(o+u,a+s,true,true)}else{t.set(o+u,a+s,false,true)}}}}}function le(t){var e=t.size;for(var r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,true);t.set(6,r,n,true)}}function he(t,e){var r=at.getPositions(e);for(var n=0;n<r.length;n++){var i=r[n][0];var o=r[n][1];for(var a=-2;a<=2;a++){for(var u=-2;u<=2;u++){if(a===-2||a===2||u===-2||u===2||a===0&&u===0){t.set(i+a,o+u,true,true)}else{t.set(i+a,o+u,false,true)}}}}}function ce(t,e){var r=t.size;var n=qt.getEncodedBits(e);var i,o,a;for(var u=0;u<18;u++){i=Math.floor(u/3);o=u%3+r-8-3;a=(n>>u&1)===1;t.set(i,o,a,true);t.set(o,i,a,true)}}function de(t,e,r){var n=t.size;var i=Zt.getEncodedBits(e,r);var o,a;for(o=0;o<15;o++){a=(i>>o&1)===1;if(o<6){t.set(o,8,a,true)}else if(o<8){t.set(o+1,8,a,true)}else{t.set(n-15+o,8,a,true)}if(o<8){t.set(8,n-o-1,a,true)}else if(o<9){t.set(8,15-o-1+1,a,true)}else{t.set(8,15-o-1,a,true)}}t.set(n-8,8,1,true)}function ve(t,e){var r=t.size;var n=-1;var i=r-1;var o=7;var a=0;for(var u=r-1;u>0;u-=2){if(u===6)u--;while(true){for(var s=0;s<2;s++){if(!t.isReserved(i,u-s)){var f=false;if(a<e.length){f=(e[a]>>>o&1)===1}t.set(i,u-s,f);o--;if(o===-1){a++;o=7}}}i+=n;if(i<0||r<=i){i-=n;n=-n;break}}}}function ge(t,e,r){var n=new nt;r.forEach((function(e){n.put(e.mode.bit,4);n.put(e.getLength(),Kt.getCharCountIndicator(e.mode,t));e.write(n)}));var i=G.getSymbolTotalCodewords(t);var o=pt.getTotalCodewordsCount(t,e);var a=(i-o)*8;if(n.getLengthInBits()+4<=a){n.put(0,4)}while(n.getLengthInBits()%8!==0){n.putBit(0)}var u=(a-n.getLengthInBits())/8;for(var s=0;s<u;s++){n.put(s%2?17:236,8)}return pe(n,t,e)}function pe(t,e,r){var n=G.getSymbolTotalCodewords(e);var i=pt.getTotalCodewordsCount(e,r);var o=n-i;var a=pt.getBlocksCount(e,r);var u=n%a;var s=a-u;var f=Math.floor(n/a);var l=Math.floor(o/a);var h=l+1;var c=f-l;var d=new Ct(c);var v=0;var g=new Array(a);var p=new Array(a);var y=0;var m=j.from(t.buffer);for(var w=0;w<a;w++){var b=w<s?l:h;g[w]=m.slice(v,v+b);p[w]=d.encode(g[w]);v+=b;y=Math.max(y,b)}var E=j.alloc(n);var T=0;var A,P;for(A=0;A<y;A++){for(P=0;P<a;P++){if(A<g[P].length){E[T++]=g[P][A]}}}for(A=0;A<c;A++){for(P=0;P<a;P++){E[T++]=p[P][A]}}return E}function ye(t,e,r,n){var i;if(P(t)){i=se.fromArray(t)}else if(typeof t==="string"){var o=e;if(!o){var a=se.rawSplit(t);o=qt.getBestVersionForData(a,r)}i=se.fromString(t,o||40)}else{throw new Error("Invalid data")}var u=qt.getBestVersionForData(i,r);if(!u){throw new Error("The amount of data is too big to be stored in a QR Code")}if(!e){e=u}else if(e<u){throw new Error("\n"+"The chosen QR Code version cannot contain this amount of data.\n"+"Minimum version required to store current data is: "+u+".\n")}var s=ge(e,r,i);var f=G.getSymbolSize(e);var l=new ot(f);fe(l,e);le(l);he(l,e);de(l,r,0);if(e>=7){ce(l,e)}ve(l,s);if(isNaN(n)){n=ht.getBestMask(l,de.bind(null,l,r))}ht.applyMask(n,l);de(l,r,n);return{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}var me=function t(e,r){if(typeof e==="undefined"||e===""){throw new Error("No input text")}var n=et.M;var i;var o;if(typeof r!=="undefined"){n=et.from(r.errorCorrectionLevel,et.M);i=qt.from(r.version);o=ht.from(r.maskPattern);if(r.toSJISFunc){G.setToSJISFunction(r.toSJISFunc)}}return ye(e,i,n,o)};var we={create:me};var be=W((function(t,e){function r(t){if(typeof t==="number"){t=t.toString()}if(typeof t!=="string"){throw new Error("Color should be defined as hex string")}var e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8){throw new Error("Invalid hex color: "+t)}if(e.length===3||e.length===4){e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))}if(e.length===6)e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function t(e){if(!e)e={};if(!e.color)e.color={};var n=typeof e.margin==="undefined"||e.margin===null||e.margin<0?4:e.margin;var i=e.width&&e.width>=21?e.width:undefined;var o=e.scale||4;return{width:i,scale:i?4:o,margin:n,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};e.getScale=function t(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};e.getImageWidth=function t(r,n){var i=e.getScale(r,n);return Math.floor((r+n.margin*2)*i)};e.qrToImageData=function t(r,n,i){var o=n.modules.size;var a=n.modules.data;var u=e.getScale(o,i);var s=Math.floor((o+i.margin*2)*u);var f=i.margin*u;var l=[i.color.light,i.color.dark];for(var h=0;h<s;h++){for(var c=0;c<s;c++){var d=(h*s+c)*4;var v=i.color.light;if(h>=f&&c>=f&&h<s-f&&c<s-f){var g=Math.floor((h-f)/u);var p=Math.floor((c-f)/u);v=l[a[g*o+p]?1:0]}r[d++]=v.r;r[d++]=v.g;r[d++]=v.b;r[d]=v.a}}}}));var Ee=W((function(t,e){function r(t,e,r){t.clearRect(0,0,e.width,e.height);if(!e.style)e.style={};e.height=r;e.width=r;e.style.height=r+"px";e.style.width=r+"px"}function n(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}e.render=function t(e,i,o){var a=o;var u=i;if(typeof a==="undefined"&&(!i||!i.getContext)){a=i;i=undefined}if(!i){u=n()}a=be.getOptions(a);var s=be.getImageWidth(e.modules.size,a);var f=u.getContext("2d");var l=f.createImageData(s,s);be.qrToImageData(l.data,e,a);r(f,u,s);f.putImageData(l,0,0);return u};e.renderToDataURL=function t(r,n,i){var o=i;if(typeof o==="undefined"&&(!n||!n.getContext)){o=n;n=undefined}if(!o)o={};var a=e.render(r,n,o);var u=o.type||"image/png";var s=o.rendererOpts||{};return a.toDataURL(u,s.quality)}}));function Te(t,e){var r=t.a/255;var n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Ae(t,e,r){var n=t+e;if(typeof r!=="undefined")n+=" "+r;return n}function Pe(t,e,r){var n="";var i=0;var o=false;var a=0;for(var u=0;u<t.length;u++){var s=Math.floor(u%e);var f=Math.floor(u/e);if(!s&&!o)o=true;if(t[u]){a++;if(!(u>0&&s>0&&t[u-1])){n+=o?Ae("M",s+r,.5+f+r):Ae("m",i,0);i=0;o=false}if(!(s+1<e&&t[u+1])){n+=Ae("h",a);a=0}}else{i++}}return n}var _e=function t(e,r,n){var i=be.getOptions(r);var o=e.modules.size;var a=e.modules.data;var u=o+i.margin*2;var s=!i.color.light.a?"":"<path "+Te(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>';var f="<path "+Te(i.color.dark,"stroke")+' d="'+Pe(a,o,i.margin)+'"/>';var l='viewBox="'+"0 0 "+u+" "+u+'"';var h=!i.width?"":'width="'+i.width+'" height="'+i.width+'" ';var c='<svg xmlns="http://www.w3.org/2000/svg" '+h+l+' shape-rendering="crispEdges">'+s+f+"</svg>\n";if(typeof n==="function"){n(null,c)}return c};var Ce={render:_e};function Be(t,e,r,n,i){var o=[].slice.call(arguments,1);var a=o.length;var u=typeof o[a-1]==="function";if(!u&&!T()){throw new Error("Callback required as last argument")}if(u){if(a<2){throw new Error("Too few arguments provided")}if(a===2){i=r;r=e;e=n=undefined}else if(a===3){if(e.getContext&&typeof i==="undefined"){i=n;n=undefined}else{i=n;n=r;r=e;e=undefined}}}else{if(a<1){throw new Error("Too few arguments provided")}if(a===1){r=e;e=n=undefined}else if(a===2&&!e.getContext){n=r;r=e;e=undefined}return new Promise((function(i,o){try{var a=we.create(r,n);i(t(a,e,n))}catch(u){o(u)}}))}try{var s=we.create(r,n);i(null,t(s,e,n))}catch(f){i(f)}}var Re=we.create;var Ie=Be.bind(null,Ee.render);var Me=Be.bind(null,Ee.renderToDataURL);var Ne=Be.bind(null,(function(t,e,r){return Ce.render(t,r)}));var Se={create:Re,toCanvas:Ie,toDataURL:Me,toString:Ne};var xe=".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}";var Le=new i("TOTP");var Ue=t("amplify_totp_setup",function(){function t(t){e(this,t);this.inputProps={autoFocus:true};this.handleAuthStateChange=d;this.headerText=f.TOTP_HEADER_TEXT;this.issuer=f.TOTP_ISSUER;this.code=null;this.setupMessage=null;this.qrCodeInput=null;this.loading=false}t.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){switch(e.label){case 0:this.removeHubListener=v((function(e){if(e===u.TOTPSetup)t.setup()}));return[4,this.setup()];case 1:e.sent();return[2]}}))}))};t.prototype.disconnectedCallback=function(){this.removeHubListener&&this.removeHubListener()};t.prototype.buildOtpAuthPath=function(t,e,r){return"otpauth://totp/"+e+":"+t.username+"?secret="+r+"&issuer="+e};t.prototype.onTOTPEvent=function(t,e,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:Le.debug("on totp event",t,e);if(!(t===l&&e===h))return[3,2];return[4,p(r,this.handleAuthStateChange)];case 1:n.sent();n.label=2;case 2:return[2]}}))}))};t.prototype.handleTotpInputChange=function(t){this.setupMessage=null;this.qrCodeInput=t.target.value};t.prototype.generateQRCode=function(t){return __awaiter(this,void 0,void 0,(function(){var e,r;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);e=this;return[4,Se.toDataURL(t)];case 1:e.qrCodeImageSource=n.sent();return[3,3];case 2:r=n.sent();g(r);return[3,3];case 3:return[2]}}))}))};t.prototype.setup=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r;return __generator(this,(function(n){switch(n.label){case 0:if(!this.user||this.user.challengeName!=="MFA_SETUP"||this.loading)return[2];this.setupMessage=null;t=encodeURI(o.get(this.issuer));if(!s||typeof s.setupTOTP!=="function"){throw new Error(c)}this.loading=true;n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,s.setupTOTP(this.user)];case 2:e=n.sent();Le.debug("secret key",e);this.code=this.buildOtpAuthPath(this.user,t,e);this.generateQRCode(this.code);return[3,5];case 3:r=n.sent();g(r);Le.debug(o.get(f.TOTP_SETUP_FAILURE),r);return[3,5];case 4:this.loading=false;return[7];case 5:return[2]}}))}))};t.prototype.verifyTotpToken=function(t){return __awaiter(this,void 0,void 0,(function(){var e,r;return __generator(this,(function(n){switch(n.label){case 0:if(t){t.preventDefault()}if(!this.qrCodeInput){Le.debug("No TOTP Code provided");return[2]}e=this.user;if(!s||typeof s.verifyTotpToken!=="function"||typeof s.setPreferredMFA!=="function"){throw new Error(c)}n.label=1;case 1:n.trys.push([1,5,,6]);return[4,s.verifyTotpToken(e,this.qrCodeInput)];case 2:n.sent();return[4,s.setPreferredMFA(e,a.TOTP)];case 3:n.sent();this.setupMessage=o.get(f.TOTP_SUCCESS_MESSAGE);Le.debug(o.get(f.TOTP_SUCCESS_MESSAGE));return[4,this.onTOTPEvent(l,h,e)];case 4:n.sent();return[3,6];case 5:r=n.sent();this.setupMessage=o.get(f.TOTP_SETUP_FAILURE);Le.error(r);return[3,6];case 6:return[2]}}))}))};t.prototype.render=function(){var t=this;return r(n,null,r("amplify-form-section",{headerText:o.get(this.headerText),submitButtonText:o.get(f.TOTP_SUBMIT_BUTTON_TEXT),handleSubmit:function(e){return t.verifyTotpToken(e)},loading:this.loading},r("div",{class:"totp-setup"},this.qrCodeImageSource&&r("img",{src:this.qrCodeImageSource,alt:o.get(f.QR_CODE_ALT)}),r("amplify-form-field",{label:o.get(f.TOTP_LABEL),inputProps:this.inputProps,fieldId:"totpCode",name:"totpCode",handleInputChange:function(e){return t.handleTotpInputChange(e)}}))))};return t}());Ue.style=xe}}}));