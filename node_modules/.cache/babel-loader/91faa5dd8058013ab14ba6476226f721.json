{"remainingRequest":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Edit.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Edit.vue","mtime":1623461472155},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js","mtime":1623474110571},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js","mtime":1623474110495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3BhcmFsbGVscy9hd3MvdGVzdC1hbXBsaWZ5LWFsYnVtL2FtcGxpZnktdnVlLWFsYnVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgQVBJIH0gZnJvbSAiYXdzLWFtcGxpZnkiOwppbXBvcnQgeyBnZXRBbGJ1bSBhcyBfZ2V0QWxidW0gfSBmcm9tICIuLi8uLi9ncmFwaHFsL3F1ZXJpZXMiOwppbXBvcnQgeyB1cGRhdGVBbGJ1bSB9IGZyb20gIi4uLy4uL2dyYXBocWwvbXV0YXRpb25zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbGJ1bUVkaXQiLAogIHByb3BzOiB7CiAgICBhbGJ1bUlkOiBTdHJpbmcKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5nZXRBbGJ1bSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbmFtZTogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsYnVtOiBmdW5jdGlvbiBnZXRBbGJ1bSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSS5ncmFwaHFsKHsKICAgICAgICAgICAgICAgICAgcXVlcnk6IF9nZXRBbGJ1bSwKICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5hbGJ1bUlkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgICAgICBfdGhpczIuZm9ybS5pZCA9IHJlc3VsdC5kYXRhLmdldEFsYnVtLmlkOwogICAgICAgICAgICAgICAgICBfdGhpczIuZm9ybS5uYW1lID0gcmVzdWx0LmRhdGEuZ2V0QWxidW0ubmFtZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0VXBkYXRlOiBmdW5jdGlvbiBzdWJtaXRVcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBUEkuZ3JhcGhxbCh7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB1cGRhdGVBbGJ1bSwKICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IF90aGlzMy5mb3JtCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogIkFsYnVtSW5kZXgiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Edit.vue"],"names":[],"mappings":";;;AAYA,SAAS,GAAT,QAAoB,aAApB;AACA,SAAS,QAAO,IAAP,SAAT,QAAyB,uBAAzB;AACA,SAAS,WAAT,QAA4B,yBAA5B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AADJ,GAFM;AAKP,EAAA,OALO,qBAKG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,cAAA,KAAI,CAAC,QAAL;;AADc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf,GAPY;AAQb,EAAA,IARa,kBAQN;AACL,WAAO;AACL,MAAA,IAAI,EAAE;AACJ,QAAA,EAAE,EAAE,EADA;AAEJ,QAAA,IAAI,EAAE;AAFF;AADD,KAAP;AAMD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACD,IAAA,QADC,sBACU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACT,GAAG,CAAC,OAAJ,CAAY;AAChB,kBAAA,KAAK,EAAE,SADS;AAEhB,kBAAA,SAAS,EAAE;AAAE,oBAAA,EAAE,EAAE,MAAI,CAAC;AAAX;AAFK,iBAAZ,EAIH,IAJG,CAIE,UAAC,MAAD,EAAY;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,kBAAA,MAAI,CAAC,IAAL,CAAU,EAAV,GAAe,MAAM,CAAC,IAAP,CAAY,QAAZ,CAAqB,EAApC;AACA,kBAAA,MAAI,CAAC,IAAL,CAAU,IAAV,GAAiB,MAAM,CAAC,IAAP,CAAY,QAAZ,CAAqB,IAAtC;AACD,iBARG,EASH,KATG,CASG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAXG,CADS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAahB,KAdM;AAeD,IAAA,YAfC,0BAec;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACb,GAAG,CAAC,OAAJ,CAAY;AAChB,kBAAA,KAAK,EAAE,WADS;AAEhB,kBAAA,SAAS,EAAE;AAAE,oBAAA,KAAK,EAAE,MAAI,CAAC;AAAd;AAFK,iBAAZ,EAIH,IAJG,CAIE,UAAC,MAAD,EAAY;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;;AACA,kBAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,oBAAA,IAAI,EAAE;AAAR,mBAAlB;AACD,iBAPG,EAQH,KARG,CAQG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAVG,CADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYpB;AA3BM;AAhBI,CAAf","sourcesContent":["<template>\n  <div>\n    <h1>アルバム編集</h1>\n    <form @submit.prevent=\"submitUpdate\">\n      <label>Name</label><br />\n      <input v-model=\"form.name\" placeholder=\"Enter album name\" /><br />\n      <input type=\"submit\" value=\"Submit\" />\n    </form>\n  </div>\n</template>\n\n<script>\nimport { API } from \"aws-amplify\";\nimport { getAlbum } from \"../../graphql/queries\";\nimport { updateAlbum } from \"../../graphql/mutations\";\n\nexport default {\n  name: \"AlbumEdit\",\n  props: {\n    albumId: String,\n  },\n  async created() {\n    this.getAlbum();\n  },\n  data() {\n    return {\n      form: {\n        id: \"\",\n        name: \"\",\n      },\n    };\n  },\n  methods: {\n    async getAlbum() {\n      await API.graphql({\n        query: getAlbum,\n        variables: { id: this.albumId },\n      })\n        .then((result) => {\n          console.log(result);\n          this.form.id = result.data.getAlbum.id;\n          this.form.name = result.data.getAlbum.name;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    async submitUpdate() {\n      await API.graphql({\n        query: updateAlbum,\n        variables: { input: this.form },\n      })\n        .then((result) => {\n          console.log(result);\n          this.$router.push({ name: \"AlbumIndex\" });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>"],"sourceRoot":""}]}