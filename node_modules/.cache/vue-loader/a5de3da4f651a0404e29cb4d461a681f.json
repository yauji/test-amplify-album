{"remainingRequest":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue","mtime":1623461472155},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/babel-loader/lib/index.js","mtime":1623474110571},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/cache-loader/dist/cjs.js","mtime":1623474110567},{"path":"/home/parallels/aws/test-amplify-album/amplify-vue-album/node_modules/vue-loader-v16/dist/index.js","mtime":1623474110495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEFQSSB9IGZyb20gImF3cy1hbXBsaWZ5IjsKaW1wb3J0IHsgbGlzdEFsYnVtcyB9IGZyb20gIi4uLy4uL2dyYXBocWwvcXVlcmllcyI7CmltcG9ydCB7IGRlbGV0ZUFsYnVtIH0gZnJvbSAiLi4vLi4vZ3JhcGhxbC9tdXRhdGlvbnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbGJ1bUluZGV4IiwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBbGJ1bXMoKTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGJ1bXM6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldEFsYnVtcygpIHsKICAgICAgYXdhaXQgQVBJLmdyYXBocWwoewogICAgICAgIHF1ZXJ5OiBsaXN0QWxidW1zLAogICAgICB9KQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICB0aGlzLmFsYnVtcyA9IHJlc3VsdC5kYXRhLmxpc3RBbGJ1bXMuaXRlbXM7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlQWxidW0oaW5kZXgsIGFsYnVtSWQpIHsKICAgICAgaWYgKCFjb25maXJtKCJEZWxldGUgQWxidW0/IikpIHJldHVybjsKCiAgICAgIGF3YWl0IEFQSS5ncmFwaHFsKHsKICAgICAgICBxdWVyeTogZGVsZXRlQWxidW0sCiAgICAgICAgdmFyaWFibGVzOiB7IGlucHV0OiB7IGlkOiBhbGJ1bUlkIH0gfSwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgdGhpcy5hbGJ1bXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue"],"names":[],"mappings":"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","file":"/home/parallels/aws/test-amplify-album/amplify-vue-album/src/views/album/Index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <h1>アルバム一覧</h1>\n    \n    <router-link custom v-slot=\"{ navigate }\" :to=\"{ name: 'AlbumCreate' }\">\n      <button @click=\"navigate\">Add Album</button>\n    </router-link>\n    <table border=\"1\">\n      <tr v-for=\"(album, index) in albums\" :key=\"album.id\">\n        <td>{{ album.name }}</td>\n        <td>\n          <router-link\n            custom\n            v-slot=\"{ navigate }\"\n            :to=\"{ name: 'AlbumShow', params: { albumId: album.id } }\"\n          >\n            <button @click=\"navigate\">Show Album</button>\n          </router-link>\n        </td>\n        <td>\n          <router-link\n            custom\n            v-slot=\"{ navigate }\"\n            :to=\"{ name: 'AlbumEdit', params: { albumId: album.id } }\"\n          >\n            <button @click=\"navigate\">Edit Album</button>\n          </router-link>\n        </td>\n        <td>\n          <button @click=\"deleteAlbum(index, album.id)\">\n            Delete Album\n          </button>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { API } from \"aws-amplify\";\nimport { listAlbums } from \"../../graphql/queries\";\nimport { deleteAlbum } from \"../../graphql/mutations\";\n\nexport default {\n  name: \"AlbumIndex\",\n  async created() {\n    this.getAlbums();\n  },\n  data() {\n    return {\n      albums: [],\n    };\n  },\n  methods: {\n    async getAlbums() {\n      await API.graphql({\n        query: listAlbums,\n      })\n        .then((result) => {\n          console.log(result);\n          this.albums = result.data.listAlbums.items;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    async deleteAlbum(index, albumId) {\n      if (!confirm(\"Delete Album?\")) return;\n\n      await API.graphql({\n        query: deleteAlbum,\n        variables: { input: { id: albumId } },\n      })\n        .then((result) => {\n          console.log(result);\n          this.albums.splice(index, 1);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>"]}]}