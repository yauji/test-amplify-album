import{r,h as t,H as n}from"./p-33b9aa6b.js";import{Logger as e,I18n as o}from"@aws-amplify/core";import{M as i,A as a}from"./p-417bb5ea.js";import{Auth as u}from"@aws-amplify/auth";import{T as f}from"./p-26837fd8.js";import{S as s,i as c,N as h}from"./p-608e5d76.js";import{d as l,o as v,a as d}from"./p-7c180c0e.js";import{c as p}from"./p-78f0ec78.js";import w from"buffer";const m=class{constructor(t){r(this,t),this.placeholder="",this.checked=!1,this.disabled=!1}render(){return t("span",{class:"radio-button"},t("input",Object.assign({type:"radio",name:this.name,value:this.value,onInput:this.handleInputChange,placeholder:this.placeholder,id:this.fieldId,checked:this.checked,disabled:this.disabled},this.inputProps)),t("amplify-label",{htmlFor:this.fieldId},this.label))}};m.style=":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}";const g=class{constructor(t){r(this,t),this.message=""}render(){return t("div",{class:"toast"},t("amplify-icon",{class:"toast-icon",name:"warning"}),this.message?t("span",null,this.message):null,t("slot",null),t("button",{class:"toast-close",onClick:this.handleClose}))}};g.style=':host{--background-color:var(--amplify-secondary-tint);--color:var(--amplify-white);--font-size:var(--amplify-text-sm);--font-family:var(--amplify-font-family);--close-icon-color:var(--amplify-white);--close-icon-hover:var(--amplify-red)}.toast-icon{padding-right:5px}.toast{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:absolute;top:0;left:0;width:100%;z-index:99;-webkit-box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);padding:16px;background-color:var(--background-color);font-size:var(--font-size);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:5px;font-family:var(--font-family)}.toast>span{margin-right:10px}.toast-close{margin-left:auto;-ms-flex-item-align:center;align-self:center;position:relative;width:18px;height:18px;overflow:hidden;cursor:pointer;background:transparent;border:none}.toast-close::before,.toast-close::after{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:var(--close-icon-color)}.toast-close:hover::before,.toast-close:hover::after{background:var(--close-icon-hover)}.toast-close::before{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.toast-close::after{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}';var y=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},b={}.toString,E=Array.isArray||function(r){return"[object Array]"==b.call(r)},x=(A.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(t){return!1}}())?2147483647:1073741823;function A(r,t,n){return A.TYPED_ARRAY_SUPPORT||this instanceof A?"number"==typeof r?R(this,r):function(r,t,n,e){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,e){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");var o;return o=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e),A.TYPED_ARRAY_SUPPORT?o.__proto__=A.prototype:o=M(r,o),o}(r,t,n,e):"string"==typeof t?function(r,t){var n=0|I(t),e=k(r,n),o=e.write(t);return o!==n&&(e=e.slice(0,o)),e}(r,t):function(r,t){if(A.isBuffer(t)){var n=0|T(t.length),e=k(r,n);return 0===e.length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?k(r,0):M(r,t);if("Buffer"===t.type&&Array.isArray(t.data))return M(r,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}(this,r,t,n):new A(r,t,n)}function T(r){if(r>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|r}function k(r,t){var n;return A.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=A.prototype:(null===(n=r)&&(n=new A(t)),n.length=t),n}function R(r,t){var n=k(r,t<0?0:0|T(t));if(!A.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)n[e]=0;return n}function M(r,t){for(var n=t.length<0?0:0|T(t.length),e=k(r,n),o=0;o<n;o+=1)e[o]=255&t[o];return e}function B(r,t){var n;t=t||1/0;for(var e=r.length,o=null,i=[],a=0;a<e;++a){if((n=r.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===e){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function I(r){return A.isBuffer(r)?r.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer)?r.byteLength:("string"!=typeof r&&(r=""+r),0===r.length?0:B(r).length)}A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),A.prototype.write=function(r,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var e=this.length-t;if((void 0===n||n>e)&&(n=e),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(r,t,n,e){return function(r,t,n,e){for(var o=0;o<e&&!(o+n>=t.length||o>=r.length);++o)t[o+n]=r[o];return o}(B(t,r.length-n),r,n,e)}(this,r,t,n)},A.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=void 0===t?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),A.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=A.prototype;else{var o=t-r;n=new A(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+r]}return n},A.prototype.copy=function(r,t,n,e){if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var o,i=e-n;if(this===r&&n<t&&t<e)for(o=i-1;o>=0;--o)r[o+t]=this[o+n];else if(i<1e3||!A.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)r[o+t]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+i),t);return i},A.prototype.fill=function(r,t,n){if("string"==typeof r){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===r.length){var e=r.charCodeAt(0);e<256&&(r=e)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(o=t;o<n;++o)this[o]=r;else{var i=A.isBuffer(r)?r:new A(r),a=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this},A.concat=function(r,t){if(!E(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return k(null,0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=R(null,t),o=0;for(n=0;n<r.length;++n){var i=r[n];if(!A.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,o),o+=i.length}return e},A.byteLength=I,A.prototype._isBuffer=!0,A.isBuffer=function(r){return!(null==r||!r._isBuffer)};var P,C=function(r){var t=new A(r);return t.fill(0),t},N=function(r){return new A(r)},F=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],_=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return 4*r+17},U=function(r){return F[r]},j=function(r){for(var t=0;0!==r;)t++,r>>>=1;return t},S=function(){return void 0!==P},z=function(r){return P(r)};function $(r,t,n){return r(n={path:t,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var O=$((function(r,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(r){return r&&void 0!==r.bit&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}(r)}catch(e){return n}}}));function L(){this.buffer=[],this.length=0}L.prototype={get:function(r){var t=Math.floor(r/8);return 1==(this.buffer[t]>>>7-r%8&1)},put:function(r,t){for(var n=0;n<t;n++)this.putBit(1==(r>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(r){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Q=L;function q(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=C(r*r),this.reservedBit=C(r*r)}q.prototype.set=function(r,t,n,e){var o=r*this.size+t;this.data[o]=n,e&&(this.reservedBit[o]=!0)},q.prototype.get=function(r,t){return this.data[r*this.size+t]},q.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n},q.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var D=q,J=$((function(r,t){var n=_;t.getRowColCoords=function(r){if(1===r)return[];for(var t=Math.floor(r/7)+2,e=n(r),o=145===e?26:2*Math.ceil((e-13)/(2*t-2)),i=[e-7],a=1;a<t-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},t.getPositions=function(r){for(var n=[],e=t.getRowColCoords(r),o=e.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([e[i],e[a]]);return n}})),K=_,Z=$((function(r,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(r,n,e){switch(r){case t.Patterns.PATTERN000:return(n+e)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return e%3==0;case t.Patterns.PATTERN011:return(n+e)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2==0;case t.Patterns.PATTERN101:return n*e%2+n*e%3==0;case t.Patterns.PATTERN110:return(n*e%2+n*e%3)%2==0;case t.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}t.isValid=function(r){return null!=r&&""!==r&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){for(var t=r.size,n=0,e=0,o=0,i=null,a=null,u=0;u<t;u++){e=o=0,i=a=null;for(var f=0;f<t;f++){var s=r.get(u,f);s===i?e++:(e>=5&&(n+=e-5+3),i=s,e=1),(s=r.get(f,u))===a?o++:(o>=5&&(n+=o-5+3),a=s,o=1)}e>=5&&(n+=e-5+3),o>=5&&(n+=o-5+3)}return n},t.getPenaltyN2=function(r){for(var t=r.size,n=0,e=0;e<t-1;e++)for(var o=0;o<t-1;o++){var i=r.get(e,o)+r.get(e,o+1)+r.get(e+1,o)+r.get(e+1,o+1);4!==i&&0!==i||n++}return 3*n},t.getPenaltyN3=function(r){for(var t=r.size,n=0,e=0,o=0,i=0;i<t;i++){e=o=0;for(var a=0;a<t;a++)e=e<<1&2047|r.get(i,a),a>=10&&(1488===e||93===e)&&n++,o=o<<1&2047|r.get(a,i),a>=10&&(1488===o||93===o)&&n++}return 40*n},t.getPenaltyN4=function(r){for(var t=0,n=r.data.length,e=0;e<n;e++)t+=r.data[e];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(r,t){for(var e=t.size,o=0;o<e;o++)for(var i=0;i<e;i++)t.isReserved(i,o)||t.xor(i,o,n(r,i,o))},t.getBestMask=function(r,n){for(var e=Object.keys(t.Patterns).length,o=0,i=1/0,a=0;a<e;a++){n(a),t.applyMask(a,r);var u=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(a,r),u<i&&(i=u,o=a)}return o}})),H=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Y=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],W=function(r,t){switch(t){case O.L:return H[4*(r-1)+0];case O.M:return H[4*(r-1)+1];case O.Q:return H[4*(r-1)+2];case O.H:return H[4*(r-1)+3];default:return}},G=function(r,t){switch(t){case O.L:return Y[4*(r-1)+0];case O.M:return Y[4*(r-1)+1];case O.Q:return Y[4*(r-1)+2];case O.H:return Y[4*(r-1)+3];default:return}},V=C(512),X=C(256);!function(){for(var r=1,t=0;t<255;t++)V[t]=r,X[r]=t,256&(r<<=1)&&(r^=285);for(t=255;t<512;t++)V[t]=V[t-255]}();var rr=function(r,t){return 0===r||0===t?0:V[X[r]+X[t]]},tr=$((function(r,t){t.mul=function(r,t){for(var n=C(r.length+t.length-1),e=0;e<r.length;e++)for(var o=0;o<t.length;o++)n[e+o]^=rr(r[e],t[o]);return n},t.mod=function(r,t){for(var n=N(r);n.length-t.length>=0;){for(var e=n[0],o=0;o<t.length;o++)n[o]^=rr(t[o],e);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(r){for(var n=N([1]),e=0;e<r;e++)n=t.mul(n,[1,(o=e,V[o])]);var o;return n}})),nr=w.Buffer;function er(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}er.prototype.initialize=function(r){this.degree=r,this.genPoly=tr.generateECPolynomial(this.degree)},er.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");var t=C(this.degree),n=nr.concat([r,t],r.length+this.degree),e=tr.mod(n,this.genPoly),o=this.degree-e.length;if(o>0){var i=C(this.degree);return e.copy(i,o),i}return e};var or=er,ir=function(r){return!isNaN(r)&&r>=1&&r<=40},ar="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",ur="(?:(?![A-Z0-9 $%*+\\-./:]|"+(ar=ar.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",fr=new RegExp(ar,"g"),sr=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),cr=new RegExp(ur,"g"),hr=new RegExp("[0-9]+","g"),lr=new RegExp("[A-Z $%*+\\-./:]+","g"),vr=new RegExp("^"+ar+"$"),dr=new RegExp("^[0-9]+$"),pr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),wr={KANJI:fr,BYTE_KANJI:sr,BYTE:cr,NUMERIC:hr,ALPHANUMERIC:lr,testKanji:function(r){return vr.test(r)},testNumeric:function(r){return dr.test(r)},testAlphanumeric:function(r){return pr.test(r)}},mr=$((function(r,t){t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,t){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!ir(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?r.ccBits[0]:t<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return wr.testNumeric(r)?t.NUMERIC:wr.testAlphanumeric(r)?t.ALPHANUMERIC:wr.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}(r)}catch(e){return n}}})),gr=$((function(r,t){var n=j(7973);function e(r,t){return mr.getCharCountIndicator(r,t)+4}function o(r,t){var n=0;return r.forEach((function(r){var o=e(r.mode,t);n+=o+r.getBitsLength()})),n}t.from=function(r,t){return ir(r)?parseInt(r,10):t},t.getCapacity=function(r,t,n){if(!ir(r))throw new Error("Invalid QR Code version");void 0===n&&(n=mr.BYTE);var o=8*(U(r)-G(r,t));if(n===mr.MIXED)return o;var i=o-e(n,r);switch(n){case mr.NUMERIC:return Math.floor(i/10*3);case mr.ALPHANUMERIC:return Math.floor(i/11*2);case mr.KANJI:return Math.floor(i/13);case mr.BYTE:default:return Math.floor(i/8)}},t.getBestVersionForData=function(r,n){var e,i=O.from(n,O.M);if(E(r)){if(r.length>1)return function(r,n){for(var e=1;e<=40;e++)if(o(r,e)<=t.getCapacity(e,n,mr.MIXED))return e}(r,i);if(0===r.length)return 1;e=r[0]}else e=r;return function(r,n,e){for(var o=1;o<=40;o++)if(n<=t.getCapacity(o,e,r))return o}(e.mode,e.getLength(),i)},t.getEncodedBits=function(r){if(!ir(r)||r<7)throw new Error("Invalid QR Code version");for(var t=r<<12;j(t)-n>=0;)t^=7973<<j(t)-n;return r<<12|t}})),yr=j(1335);function br(r){this.mode=mr.NUMERIC,this.data=r.toString()}br.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},br.prototype.getLength=function(){return this.data.length},br.prototype.getBitsLength=function(){return br.getBitsLength(this.data.length)},br.prototype.write=function(r){var t,n,e;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),e=parseInt(n,10),r.put(e,10);var o=this.data.length-t;o>0&&(n=this.data.substr(t),e=parseInt(n,10),r.put(e,3*o+1))};var Er=br,xr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ar(r){this.mode=mr.ALPHANUMERIC,this.data=r}Ar.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},Ar.prototype.getLength=function(){return this.data.length},Ar.prototype.getBitsLength=function(){return Ar.getBitsLength(this.data.length)},Ar.prototype.write=function(r){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*xr.indexOf(this.data[t]);n+=xr.indexOf(this.data[t+1]),r.put(n,11)}this.data.length%2&&r.put(xr.indexOf(this.data[t]),6)};var Tr=Ar;function kr(r){this.mode=mr.BYTE,this.data=N(r)}kr.getBitsLength=function(r){return 8*r},kr.prototype.getLength=function(){return this.data.length},kr.prototype.getBitsLength=function(){return kr.getBitsLength(this.data.length)},kr.prototype.write=function(r){for(var t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var Rr=kr;function Mr(r){this.mode=mr.KANJI,this.data=r}Mr.getBitsLength=function(r){return 13*r},Mr.prototype.getLength=function(){return this.data.length},Mr.prototype.getBitsLength=function(){return Mr.getBitsLength(this.data.length)},Mr.prototype.write=function(r){var t;for(t=0;t<this.data.length;t++){var n=z(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}r.put(n=192*(n>>>8&255)+(255&n),13)}};var Br=Mr,Ir=$((function(r){var t={single_source_shortest_paths:function(r,n,e){var o={},i={};i[n]=0;var a,u,f,s,c,h,l=t.PriorityQueue.make();for(l.push(n,0);!l.empty();)for(f in s=(a=l.pop()).cost,c=r[u=a.value]||{})c.hasOwnProperty(f)&&(h=s+c[f],(void 0===i[f]||i[f]>h)&&(i[f]=h,l.push(f,h),o[f]=u));if(void 0!==e&&void 0===i[e]){var v=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(v)}return o},extract_shortest_path_from_predecessor_list:function(r,t){for(var n=[],e=t;e;)n.push(e),e=r[e];return n.reverse(),n},find_path:function(r,n,e){var o=t.single_source_shortest_paths(r,n,e);return t.extract_shortest_path_from_predecessor_list(o,e)},PriorityQueue:{make:function(r){var n,e=t.PriorityQueue,o={};for(n in r=r||{},e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o.queue=[],o.sorter=r.sorter||e.default_sorter,o},default_sorter:function(r,t){return r.cost-t.cost},push:function(r,t){this.queue.push({value:r,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};r.exports=t})),Pr=$((function(r,t){function n(r){return unescape(encodeURIComponent(r)).length}function e(r,t,n){for(var e,o=[];null!==(e=r.exec(n));)o.push({data:e[0],index:e.index,mode:t,length:e[0].length});return o}function o(r){var t,n,o=e(wr.NUMERIC,mr.NUMERIC,r),i=e(wr.ALPHANUMERIC,mr.ALPHANUMERIC,r);return S()?(t=e(wr.BYTE,mr.BYTE,r),n=e(wr.KANJI,mr.KANJI,r)):(t=e(wr.BYTE_KANJI,mr.BYTE,r),n=[]),o.concat(i,t,n).sort((function(r,t){return r.index-t.index})).map((function(r){return{data:r.data,mode:r.mode,length:r.length}}))}function i(r,t){switch(t){case mr.NUMERIC:return Er.getBitsLength(r);case mr.ALPHANUMERIC:return Tr.getBitsLength(r);case mr.KANJI:return Br.getBitsLength(r);case mr.BYTE:return Rr.getBitsLength(r)}}function a(r,t){var n,e=mr.getBestModeForData(r);if((n=mr.from(t,e))!==mr.BYTE&&n.bit<e.bit)throw new Error('"'+r+'" cannot be encoded with mode '+mr.toString(n)+".\n Suggested mode is: "+mr.toString(e));switch(n!==mr.KANJI||S()||(n=mr.BYTE),n){case mr.NUMERIC:return new Er(r);case mr.ALPHANUMERIC:return new Tr(r);case mr.KANJI:return new Br(r);case mr.BYTE:return new Rr(r)}}t.fromArray=function(r){return r.reduce((function(r,t){return"string"==typeof t?r.push(a(t,null)):t.data&&r.push(a(t.data,t.mode)),r}),[])},t.fromString=function(r,e){for(var a=function(r,t){for(var n={},e={start:{}},o=["start"],a=0;a<r.length;a++){for(var u=r[a],f=[],s=0;s<u.length;s++){var c=u[s],h=""+a+s;f.push(h),n[h]={node:c,lastCount:0},e[h]={};for(var l=0;l<o.length;l++){var v=o[l];n[v]&&n[v].node.mode===c.mode?(e[v][h]=i(n[v].lastCount+c.length,c.mode)-i(n[v].lastCount,c.mode),n[v].lastCount+=c.length):(n[v]&&(n[v].lastCount=c.length),e[v][h]=i(c.length,c.mode)+4+mr.getCharCountIndicator(c.mode,t))}}o=f}for(l=0;l<o.length;l++)e[o[l]].end=0;return{map:e,table:n}}(function(r){for(var t=[],e=0;e<r.length;e++){var o=r[e];switch(o.mode){case mr.NUMERIC:t.push([o,{data:o.data,mode:mr.ALPHANUMERIC,length:o.length},{data:o.data,mode:mr.BYTE,length:o.length}]);break;case mr.ALPHANUMERIC:t.push([o,{data:o.data,mode:mr.BYTE,length:o.length}]);break;case mr.KANJI:t.push([o,{data:o.data,mode:mr.BYTE,length:n(o.data)}]);break;case mr.BYTE:t.push([{data:o.data,mode:mr.BYTE,length:n(o.data)}])}}return t}(o(r,S())),e),u=Ir.find_path(a.map,"start","end"),f=[],s=1;s<u.length-1;s++)f.push(a.table[u[s]].node);return t.fromArray(f.reduce((function(r,t){var n=r.length-1>=0?r[r.length-1]:null;return n&&n.mode===t.mode?(r[r.length-1].data+=t.data,r):(r.push(t),r)}),[]))},t.rawSplit=function(r){return t.fromArray(o(r,S()))}}));function Cr(r,t,n){var e,o,i=r.size,a=function(r,t){for(var n=r.bit<<3|t,e=n<<10;j(e)-yr>=0;)e^=1335<<j(e)-yr;return 21522^(n<<10|e)}(t,n);for(e=0;e<15;e++)r.set(e<6?e:e<8?e+1:i-15+e,8,o=1==(a>>e&1),!0),r.set(8,e<8?i-e-1:e<9?15-e-1+1:15-e-1,o,!0);r.set(i-8,8,1,!0)}function Nr(r,t,n,e){var o;if(E(r))o=Pr.fromArray(r);else{if("string"!=typeof r)throw new Error("Invalid data");var i=t;if(!i){var a=Pr.rawSplit(r);i=gr.getBestVersionForData(a,n)}o=Pr.fromString(r,i||40)}var u=gr.getBestVersionForData(o,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;var f=function(r,t,n){var e=new Q;n.forEach((function(t){e.put(t.mode.bit,4),e.put(t.getLength(),mr.getCharCountIndicator(t.mode,r)),t.write(e)}));var o=8*(U(r)-G(r,t));for(e.getLengthInBits()+4<=o&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);for(var i=(o-e.getLengthInBits())/8,a=0;a<i;a++)e.put(a%2?17:236,8);return function(r,t,n){for(var e=U(t),o=e-G(t,n),i=W(t,n),a=i-e%i,u=Math.floor(e/i),f=Math.floor(o/i),s=f+1,c=u-f,h=new or(c),l=0,v=new Array(i),d=new Array(i),p=0,w=N(r.buffer),m=0;m<i;m++){var g=m<a?f:s;v[m]=w.slice(l,l+g),d[m]=h.encode(v[m]),l+=g,p=Math.max(p,g)}var y,b,E=C(e),x=0;for(y=0;y<p;y++)for(b=0;b<i;b++)y<v[b].length&&(E[x++]=v[b][y]);for(y=0;y<c;y++)for(b=0;b<i;b++)E[x++]=d[b][y];return E}(e,r,t)}(t,n,o),s=_(t),c=new D(s);return function(r,t){for(var n=r.size,e=function(r){var t=K(r);return[[0,0],[t-7,0],[0,t-7]]}(t),o=0;o<e.length;o++)for(var i=e[o][0],a=e[o][1],u=-1;u<=7;u++)if(!(i+u<=-1||n<=i+u))for(var f=-1;f<=7;f++)a+f<=-1||n<=a+f||r.set(i+u,a+f,u>=0&&u<=6&&(0===f||6===f)||f>=0&&f<=6&&(0===u||6===u)||u>=2&&u<=4&&f>=2&&f<=4,!0)}(c,t),function(r){for(var t=r.size,n=8;n<t-8;n++){var e=n%2==0;r.set(n,6,e,!0),r.set(6,n,e,!0)}}(c),function(r,t){for(var n=J.getPositions(t),e=0;e<n.length;e++)for(var o=n[e][0],i=n[e][1],a=-2;a<=2;a++)for(var u=-2;u<=2;u++)r.set(o+a,i+u,-2===a||2===a||-2===u||2===u||0===a&&0===u,!0)}(c,t),Cr(c,n,0),t>=7&&function(r,t){for(var n,e,o,i=r.size,a=gr.getEncodedBits(t),u=0;u<18;u++)n=Math.floor(u/3),r.set(n,e=u%3+i-8-3,o=1==(a>>u&1),!0),r.set(e,n,o,!0)}(c,t),function(r,t){for(var n=r.size,e=-1,o=n-1,i=7,a=0,u=n-1;u>0;u-=2)for(6===u&&u--;;){for(var f=0;f<2;f++)if(!r.isReserved(o,u-f)){var s=!1;a<t.length&&(s=1==(t[a]>>>i&1)),r.set(o,u-f,s),-1==--i&&(a++,i=7)}if((o+=e)<0||n<=o){o-=e,e=-e;break}}}(c,f),isNaN(e)&&(e=Z.getBestMask(c,Cr.bind(null,c,n))),Z.applyMask(e,c),Cr(c,n,e),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:e,segments:o}}var Fr=function(r,t){if(void 0===r||""===r)throw new Error("No input text");var n,e,o=O.M;return void 0!==t&&(o=O.from(t.errorCorrectionLevel,O.M),n=gr.from(t.version),e=Z.from(t.maskPattern),t.toSJISFunc&&function(r){if("function"!=typeof r)throw new Error('"toSJISFunc" is not a valid function.');P=r}(t.toSJISFunc)),Nr(r,n,o,e)},_r=$((function(r,t){function n(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");var t=r.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+r);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(r){return[r,r]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var t=r.width&&r.width>=21?r.width:void 0;return{width:t,scale:t?4:r.scale||4,margin:null==r.margin||r.margin<0?4:r.margin,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,t){return t.width&&t.width>=r+2*t.margin?t.width/(r+2*t.margin):t.scale},t.getImageWidth=function(r,n){var e=t.getScale(r,n);return Math.floor((r+2*n.margin)*e)},t.qrToImageData=function(r,n,e){for(var o=n.modules.size,i=n.modules.data,a=t.getScale(o,e),u=Math.floor((o+2*e.margin)*a),f=e.margin*a,s=[e.color.light,e.color.dark],c=0;c<u;c++)for(var h=0;h<u;h++){var l=4*(c*u+h),v=e.color.light;c>=f&&h>=f&&c<u-f&&h<u-f&&(v=s[i[Math.floor((c-f)/a)*o+Math.floor((h-f)/a)]?1:0]),r[l++]=v.r,r[l++]=v.g,r[l++]=v.b,r[l]=v.a}}})),Ur=$((function(r,t){t.render=function(r,t,n){var e=n,o=t;void 0!==e||t&&t.getContext||(e=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),e=_r.getOptions(e);var i=_r.getImageWidth(r.modules.size,e),a=o.getContext("2d"),u=a.createImageData(i,i);return _r.qrToImageData(u.data,r,e),function(r,t,n){r.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,o,i),a.putImageData(u,0,0),o},t.renderToDataURL=function(r,n,e){var o=e;return void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={}),t.render(r,n,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}}));function jr(r,t){var n=r.a/255,e=t+'="'+r.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function Sr(r,t,n){var e=r+t;return void 0!==n&&(e+=" "+n),e}function zr(r,t,n,e,o){var i=[].slice.call(arguments,1),a=i.length,u="function"==typeof i[a-1];if(!u&&!y())throw new Error("Callback required as last argument");if(!u){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=t,t=e=void 0):2!==a||t.getContext||(e=n,n=t,t=void 0),new Promise((function(o,i){try{var a=Fr(n,e);o(r(a,t,e))}catch(u){i(u)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=n,n=t,t=e=void 0):3===a&&(t.getContext&&void 0===o?(o=e,e=void 0):(o=e,e=n,n=t,t=void 0));try{var f=Fr(n,e);o(null,r(f,t,e))}catch(s){o(s)}}var $r={create:Fr,toCanvas:zr.bind(null,Ur.render),toDataURL:zr.bind(null,Ur.renderToDataURL),toString:zr.bind(null,(function(r,t,n){return function(r,t,n){var e=_r.getOptions(t),o=r.modules.size,i=r.modules.data,a=o+2*e.margin,u=e.color.light.a?"<path "+jr(e.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",f="<path "+jr(e.color.dark,"stroke")+' d="'+function(r,t,n){for(var e="",o=0,i=!1,a=0,u=0;u<r.length;u++){var f=Math.floor(u%t),s=Math.floor(u/t);f||i||(i=!0),r[u]?(a++,u>0&&f>0&&r[u-1]||(e+=i?Sr("M",f+n,.5+s+n):Sr("m",o,0),o=0,i=!1),f+1<t&&r[u+1]||(e+=Sr("h",a),a=0)):o++}return e}(i,o,e.margin)+'"/>',s='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+'viewBox="0 0 '+a+" "+a+'" shape-rendering="crispEdges">'+u+f+"</svg>\n";return"function"==typeof n&&n(null,s),s}(r,n)}))};const Or=new e("TOTP"),Lr=class{constructor(t){r(this,t),this.inputProps={autoFocus:!0},this.handleAuthStateChange=l,this.headerText=f.TOTP_HEADER_TEXT,this.issuer=f.TOTP_ISSUER,this.code=null,this.setupMessage=null,this.qrCodeInput=null,this.loading=!1}async componentWillLoad(){this.removeHubListener=v(r=>{r===a.TOTPSetup&&this.setup()}),await this.setup()}disconnectedCallback(){this.removeHubListener&&this.removeHubListener()}buildOtpAuthPath(r,t,n){return`otpauth://totp/${t}:${r.username}?secret=${n}&issuer=${t}`}async onTOTPEvent(r,t,n){Or.debug("on totp event",r,t),r===s&&t===c&&await p(n,this.handleAuthStateChange)}handleTotpInputChange(r){this.setupMessage=null,this.qrCodeInput=r.target.value}async generateQRCode(r){try{this.qrCodeImageSource=await $r.toDataURL(r)}catch(t){d(t)}}async setup(){if(!this.user||"MFA_SETUP"!==this.user.challengeName||this.loading)return;this.setupMessage=null;const r=encodeURI(o.get(this.issuer));if(!u||"function"!=typeof u.setupTOTP)throw new Error(h);this.loading=!0;try{const t=await u.setupTOTP(this.user);Or.debug("secret key",t),this.code=this.buildOtpAuthPath(this.user,r,t),this.generateQRCode(this.code)}catch(t){d(t),Or.debug(o.get(f.TOTP_SETUP_FAILURE),t)}finally{this.loading=!1}}async verifyTotpToken(r){if(r&&r.preventDefault(),!this.qrCodeInput)return void Or.debug("No TOTP Code provided");const t=this.user;if(!u||"function"!=typeof u.verifyTotpToken||"function"!=typeof u.setPreferredMFA)throw new Error(h);try{await u.verifyTotpToken(t,this.qrCodeInput),await u.setPreferredMFA(t,i.TOTP),this.setupMessage=o.get(f.TOTP_SUCCESS_MESSAGE),Or.debug(o.get(f.TOTP_SUCCESS_MESSAGE)),await this.onTOTPEvent(s,c,t)}catch(n){this.setupMessage=o.get(f.TOTP_SETUP_FAILURE),Or.error(n)}}render(){return t(n,null,t("amplify-form-section",{headerText:o.get(this.headerText),submitButtonText:o.get(f.TOTP_SUBMIT_BUTTON_TEXT),handleSubmit:r=>this.verifyTotpToken(r),loading:this.loading},t("div",{class:"totp-setup"},this.qrCodeImageSource&&t("img",{src:this.qrCodeImageSource,alt:o.get(f.QR_CODE_ALT)}),t("amplify-form-field",{label:o.get(f.TOTP_LABEL),inputProps:this.inputProps,fieldId:"totpCode",name:"totpCode",handleInputChange:r=>this.handleTotpInputChange(r)}))))}};Lr.style=".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}";export{m as amplify_radio_button,g as amplify_toast,Lr as amplify_totp_setup}